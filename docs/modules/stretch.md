# 📏 拉伸面板 (Stretch Panel)

**快捷键**: `Alt + S` (默认，可在设置中修改)

拉伸面板用于统一节点的大小尺寸。它不仅能让节点看起来整齐划一，还能一键修复节点尺寸异常（如过大或过小）的问题。

## ✨ 交互技巧

### 双模操作体验

- **点击触发**：像传统菜单一样，移动鼠标点击按钮即可执行操作。
- **甩动触发 (Mouse Flick)**：按下快捷键后不松开鼠标，快速向目标方向“甩”动，即可瞬间触发功能并关闭面板。这是肌肉记忆形成后的最高效操作方式！


### 智能交互设计

- **位置自适应**：面板永远在当前鼠标位置弹出，操作路径极短。
- **动态指示器**: 面板中心的三角形会实时跟随你的鼠标，指示即将触发的方向。
- **互斥模式**: 打开拉伸面板会自动关闭对齐面板，反之亦然。
- **自动退出**：完成操作、点击空白处或取消节点选中时，面板自动关闭，不干扰视线。

## 🎮 核心功能 (默认配置)

环形菜单包含 8 个方向，涵盖了最常用的尺寸调整功能。
*注意：所有按钮的功能都可以在设置中完全自定义。以下介绍基于默认配置。*

![alt text](../../images/拉伸面板.png)

### 1. 单侧拉伸 (Edge Stretch)

位于圆环的上、下、左、右四个正方向。这种拉伸方式**固定对侧边缘不动**，只改变指定的一侧。

- **⬆️ 顶部拉伸 (Stretch Top)**: 将选中节点的**顶部**拉伸至与最高节点对齐（底部位置不变，节点变高）。
- **⬇️ 底部拉伸 (Stretch Bottom)**: 将选中节点的**底部**拉伸至与最低节点对齐（顶部位置不变，节点变高）。
- **⬅️ 左侧拉伸 (Stretch Left)**: 将选中节点的**左侧**拉伸至与最左节点对齐（右侧位置不变，节点变宽）。
- **➡️ 右侧拉伸 (Stretch Right)**: 将选中节点的**右侧**拉伸至与最右节点对齐（左侧位置不变，节点变宽）。

### 2. 全尺寸匹配 (Max Match)

位于圆环的左上角和右上角。

- **↖️ 水平最大宽度 (Stretch H-Max)**: 获取选中节点中**最宽**的那个节点的宽度，并将所有其他节点的宽度设置为该值（保持各自的中心点位置不变）。
- **↗️ 垂直最大高度 (Stretch V-Max)**: 获取选中节点中**最高**的那个节点的高度，并将所有其他节点的高度设置为该值（保持各自的中心点位置不变）。

### 3. 尺寸重置 (Size Reset)

位于圆环的左下角和右下角，用于快速恢复节点到标准状态。

- **↙️ 最小尺寸 (Min Size)**: 将节点缩小到能容纳其内部内容（标题、输入输出槽、控件）的**物理极限最小尺寸**。
    - *适用场景*：当节点因为手动拖拽变得过大且留白太多时。
- **↘️ 默认尺寸 (Default Size)**: 强制将节点的宽度重置为 ComfyUI 的标准宽度 (**320px**)，高度则根据内容自动适应。
    - *适用场景*：当你想让乱七八糟的节点瞬间恢复到刚创建时的整齐模样。

## ⚙️ 设置与自定义 (Settings)

本插件支持高度自定义。在 ComfyUI 的设置菜单中找到 **NodeResizer** 分类。

### 1. 按钮功能自定义 (Button Remapping)

你可以重新定义环形菜单上 **8 个方向按钮**（上/下/左/右/左上/右上/左下/右下）的具体功能。
可选功能包括：

- 顶部/底部/左侧/右侧拉伸
- 水平/垂直两侧拉伸 (Max Match)
- 默认尺寸 / 最小尺寸

### 2. 手势与外观

- **Menu Radius**: 调整环形菜单的大小（半径）。
- **Flick Distance/Speed**: 调整“甩动触发”的灵敏度（触发距离和速度阈值），防止误触。
- **Shortcut**: 修改呼出面板的快捷键。